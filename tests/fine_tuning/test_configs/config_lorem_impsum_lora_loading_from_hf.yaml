huggingface_smol_llm_model:
  component_key: model
  variant_key: huggingface_pretrained_model
  config:
    model_type: AutoModelForCausalLM
    model_name: HuggingFaceTB/SmolLM-1.7B
    prediction_key: logits
    huggingface_prediction_subscription_key: logits
    sample_key: input_ids

checkpointed_model:
  component_key: model
  variant_key: checkpointed
  config:
    checkpoint_loading:
      component_key: checkpoint_loading
      variant_key: torch
      config:
        device: 0
        precision: BF16
    model:
      instance_key: huggingface_smol_llm_model
      pass_type: BY_REFERENCE
    checkpoint_path: /raid/s3/opengptx/alexj/llm_gym/models/SmolLM-1.7B_saved/model.bin

lora_model:
  component_key: model
  variant_key: lora
  config:
    alpha: 1
    r: 8
    target_layer_class_names:
      - LlamaSdpaAttention
    model:
      instance_key: checkpointed_model
      pass_type: BY_REFERENCE